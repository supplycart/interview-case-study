(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{222:function(e,t,n){"use strict";var o=n(83);n.n(o).a},223:function(e,t,n){(e.exports=n(21)(!1)).push([e.i,"\n.card-body[data-v-517d6a9e] table > tbody > tr > td {\n  cursor: pointer;\n}\n",""])},523:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n.n(o),r={name:"Resources",data:function(){return{items:[],fields:["show","edit","delete"],currentPage:1,perPage:5,totalRows:0,you:null,message:"",showMessage:!1,dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1,activePage:1,maxPages:1}},watch:{activePage:function(){this.getResources()}},computed:{},methods:{getRowCount:function(e){return e.length},resourceLink:function(e){return"resource/".concat(e.toString())},editLink:function(e){return"resource/".concat(e.toString(),"/edit")},showResource:function(e){var t=this.resourceLink(e);this.$router.push({path:t})},editResource:function(e){var t=this.editLink(e);this.$router.push({path:t})},deleteResource:function(e){var t="resource/".concat(e.toString(),"/delete");this.$router.push({path:t})},createResource:function(){this.$router.push({path:"/resource/"+this.$route.params.bread+"/resource/create"})},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs},getResources:function(){var e=this;a.a.get("/api/resource/"+e.$route.params.bread+"/resource?token="+localStorage.getItem("api_token")+"&page="+e.activePage).then((function(t){e.items=t.data.datas,e.fields=[];for(var n=0;n<t.data.header.length;n++)null!==t.data.header[n].relation_table?e.fields.push({key:"relation_"+t.data.header[n].column_name,label:t.data.header[n].name}):e.fields.push({key:t.data.header[n].column_name,label:t.data.header[n].name});e.fields.push({key:"show",label:""}),e.fields.push({key:"edit",label:""}),e.fields.push({key:"delete",label:""}),e.maxPages=t.data.pagination})).catch((function(t){console.log(t),e.$router.push({path:"/login"})}))}},mounted:function(){this.getResources()}},s=(n(222),n(0)),i=Object(s.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CRow",[n("CCol",{attrs:{col:"12",xl:"12"}},[n("transition",{attrs:{name:"slide"}},[n("CCard",[n("CCardBody",[n("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.createResource()}}},[e._v("Create")]),e._v(" "),n("CAlert",{attrs:{show:e.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(t){e.dismissCountDown=t}}},[e._v("\n            ("+e._s(e.dismissCountDown)+") "+e._s(e.message)+"\n          ")]),e._v(" "),n("CDataTable",{attrs:{hover:"",items:e.items,fields:e.fields},scopedSlots:e._u([{key:"show",fn:function(t){var o=t.item;return[n("td",[n("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.showResource(o.id)}}},[e._v("Show")])],1)]}},{key:"edit",fn:function(t){var o=t.item;return[n("td",[n("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.editResource(o.id)}}},[e._v("Edit")])],1)]}},{key:"delete",fn:function(t){var o=t.item;return[n("td",[e.you!=o.id?n("CButton",{attrs:{color:"danger"},on:{click:function(t){return e.deleteResource(o.id)}}},[e._v("Delete")]):e._e()],1)]}}])}),e._v(" "),n("CPagination",{attrs:{pages:e.maxPages,"active-page":e.activePage},on:{"update:activePage":function(t){e.activePage=t},"update:active-page":function(t){e.activePage=t}}})],1)],1)],1)],1)],1)}),[],!1,null,"517d6a9e",null);t.default=i.exports},83:function(e,t,n){var o=n(223);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(22)(o,a);o.locals&&(e.exports=o.locals)}}]);