(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{523:function(t,e,o){"use strict";o.r(e);var n=o(2),s=o.n(n),a={name:"EditUser",props:{caption:{type:String,default:"User id"}},data:function(){return{note:{title:"",content:"",applies_to_date:"",status_id:null,note_type:""},statuses:[],message:"",dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1}},methods:{goBack:function(){this.$router.go(-1)},store:function(){var t=this;s.a.post("/api/notes?token="+localStorage.getItem("api_token"),t.note).then((function(e){t.note={title:"",content:"",applies_to_date:"",status_id:null,note_type:""},t.message="Successfully created note.",t.showAlert()})).catch((function(e){if("The given data was invalid."==e.response.data.message){for(var o in t.message="",e.response.data.errors)e.response.data.errors.hasOwnProperty(o)&&(t.message+=e.response.data.errors[o][0]+"  ");t.showAlert()}else console.log(e),t.$router.push({path:"login"})}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}},mounted:function(){var t=this;s.a.get("/api/notes/create?token="+localStorage.getItem("api_token")).then((function(e){t.statuses=e.data})).catch((function(e){console.log(e),t.$router.push({path:"login"})}))}},i=o(0),l=Object(i.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CRow",[o("CCol",{attrs:{col:"12",lg:"6"}},[o("CCard",{attrs:{"no-header":""}},[o("CCardBody",[o("h3",[t._v("\n          Create Note\n        ")]),t._v(" "),o("CAlert",{attrs:{show:t.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(e){t.dismissCountDown=e}}},[t._v("\n          ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+"\n        ")]),t._v(" "),o("CInput",{attrs:{label:"Title",type:"text",placeholder:"Title"},model:{value:t.note.title,callback:function(e){t.$set(t.note,"title",e)},expression:"note.title"}}),t._v(" "),o("CInput",{attrs:{textarea:"true",label:"Content",rows:9,placeholder:"Content.."},model:{value:t.note.content,callback:function(e){t.$set(t.note,"content",e)},expression:"note.content"}}),t._v(" "),o("CInput",{attrs:{label:"Applies to date",type:"date"},model:{value:t.note.applies_to_date,callback:function(e){t.$set(t.note,"applies_to_date",e)},expression:"note.applies_to_date"}}),t._v(" "),o("CSelect",{attrs:{label:"Status",value:t.note.status_id,plain:!0,options:t.statuses},on:{"update:value":function(e){return t.$set(t.note,"status_id",e)}}}),t._v(" "),o("CInput",{attrs:{label:"Note type",type:"text"},model:{value:t.note.note_type,callback:function(e){t.$set(t.note,"note_type",e)},expression:"note.note_type"}}),t._v(" "),o("CButton",{attrs:{color:"primary"},on:{click:function(e){return t.store()}}},[t._v("Create")]),t._v(" "),o("CButton",{attrs:{color:"primary"},on:{click:t.goBack}},[t._v("Back")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=l.exports}}]);