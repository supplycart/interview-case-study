(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{513:function(t,e,a){"use strict";a.r(e);var o=a(2),n=a.n(o),s={name:"EditUser",props:{caption:{type:String,default:"User id"}},data:function(){return{name:"",email:"",showMessage:!1,message:"",dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1}},methods:{goBack:function(){this.$router.go(-1)},update:function(){var t=this;n.a.post("/api/users/"+t.$route.params.id+"?token="+localStorage.getItem("api_token"),{_method:"PUT",name:t.name,email:t.email}).then((function(e){t.message="Successfully updated user.",t.showAlert()})).catch((function(e){console.log(e),t.$router.push({path:"/login"})}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}},mounted:function(){var t=this;n.a.get("/api/users/"+t.$route.params.id+"/edit?token="+localStorage.getItem("api_token")).then((function(e){t.name=e.data.name,t.email=e.data.email})).catch((function(e){console.log(e),t.$router.push({path:"/login"})}))}},i=a(0),r=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CRow",[a("CCol",{attrs:{col:"12",lg:"6"}},[a("CCard",{attrs:{"no-header":""}},[a("CCardBody",[a("CForm",[a("template",{slot:"header"},[t._v("\n            Edit User id:  "+t._s(t.$route.params.id)+"\n          ")]),t._v(" "),a("CAlert",{attrs:{show:t.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(e){t.dismissCountDown=e}}},[t._v("\n            ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+"\n          ")]),t._v(" "),a("CInput",{attrs:{type:"text",label:"Name",placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("CInput",{attrs:{type:"text",label:"Email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),a("CButton",{attrs:{color:"primary"},on:{click:function(e){return t.update()}}},[t._v("Save")]),t._v(" "),a("CButton",{attrs:{color:"primary"},on:{click:t.goBack}},[t._v("Back")])],2)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=r.exports}}]);